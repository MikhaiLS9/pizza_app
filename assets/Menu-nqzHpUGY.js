import{r,j as s,c as _,u as v,L as j,H as o,B as w,a as L,b as N,P as f,s as i}from"./index-ENKMXXuq.js";const F="_input_2qd30_1",k="_img_serch_2qd30_33",b="_input_wrapper_2qd30_45",d={input:F,img_serch:k,input_wrapper:b},I="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.0469%2011.3999L14.4999%2014.4999'%20stroke='%23434B67'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20d='M7%2013C10.3137%2013%2013%2010.3137%2013%207C13%203.68629%2010.3137%201%207%201C3.68629%201%201%203.68629%201%207C1%2010.3137%203.68629%2013%207%2013Z'%20stroke='%23767F9D'%20stroke-width='2'/%3e%3c/svg%3e",y=r.forwardRef(function({isValid:t=!0,className:c,...l},n){return s.jsxs("div",{className:d.input_wrapper,children:[s.jsx("input",{ref:n,className:_(d[c||""],{[d.invalid]:t}),...l}),s.jsx("img",{className:_(d.img_serch),src:I,alt:"Иконка лупы"})]})}),M="data:image/svg+xml,%3csvg%20width='16.000000'%20height='17.000000'%20viewBox='0%200%2016%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdesc%3e%20Created%20with%20Pixso.%20%3c/desc%3e%3cdefs/%3e%3cpath%20id='Path%203414'%20d='M15.25%207.09C15.17%206.41%2014.84%205.78%2014.33%205.31C13.82%204.84%2013.15%204.56%2012.44%204.53L12.44%204.33C12.44%203.76%2012.33%203.19%2012.1%202.67C11.88%202.14%2011.55%201.67%2011.13%201.26C10.72%200.86%2010.22%200.54%209.68%200.32C9.14%200.11%208.56%20-0.01%207.97%200C6.78%200%205.64%200.45%204.81%201.26C3.97%202.08%203.5%203.18%203.5%204.33L3.5%204.53C2.8%204.58%202.14%204.86%201.64%205.33C1.14%205.8%200.82%206.42%200.74%207.09L0%2013.68C0%2014.56%200.36%2015.41%201.01%2016.03C1.66%2016.65%202.53%2017%203.44%2017L12.55%2017C13.46%2017%2014.33%2016.65%2014.98%2016.03C15.63%2015.41%2015.99%2014.56%2016%2013.68L15.25%207.09ZM4.81%204.33C4.81%203.93%204.89%203.53%205.05%203.16C5.21%202.79%205.44%202.45%205.73%202.17C6.03%201.89%206.38%201.66%206.76%201.51C7.14%201.35%207.55%201.27%207.97%201.27C8.38%201.27%208.79%201.35%209.18%201.51C9.56%201.66%209.91%201.89%2010.2%202.17C10.49%202.45%2010.73%202.79%2010.89%203.16C11.05%203.53%2011.13%203.93%2011.13%204.33L11.13%204.52L4.81%204.52L4.81%204.33ZM5.43%208.84C5.33%208.84%205.22%208.82%205.13%208.78C5.03%208.74%204.94%208.68%204.87%208.61C4.8%208.54%204.74%208.45%204.7%208.36C4.66%208.27%204.64%208.17%204.64%208.07C4.64%207.97%204.66%207.87%204.7%207.77C4.74%207.68%204.8%207.59%204.87%207.52C4.94%207.45%205.03%207.39%205.13%207.36C5.22%207.32%205.33%207.3%205.43%207.3C5.54%207.3%205.64%207.32%205.74%207.36C5.83%207.39%205.92%207.45%205.99%207.52C6.07%207.59%206.13%207.68%206.17%207.77C6.21%207.87%206.23%207.97%206.23%208.07C6.23%208.17%206.21%208.27%206.17%208.36C6.13%208.45%206.07%208.54%205.99%208.61C5.92%208.68%205.83%208.74%205.74%208.78C5.64%208.82%205.54%208.84%205.43%208.84ZM10.56%208.84C10.46%208.84%2010.35%208.82%2010.26%208.78C10.16%208.74%2010.07%208.68%2010%208.61C9.92%208.54%209.86%208.45%209.82%208.36C9.78%208.27%209.76%208.17%209.76%208.07C9.76%207.97%209.78%207.87%209.82%207.77C9.86%207.68%209.92%207.59%2010%207.52C10.07%207.45%2010.16%207.39%2010.26%207.36C10.35%207.32%2010.46%207.3%2010.56%207.3C10.66%207.3%2010.77%207.32%2010.86%207.36C10.96%207.39%2011.05%207.45%2011.12%207.52C11.19%207.59%2011.25%207.68%2011.29%207.77C11.33%207.87%2011.35%207.97%2011.35%208.07C11.35%208.17%2011.33%208.27%2011.29%208.36C11.25%208.45%2011.19%208.54%2011.12%208.61C11.05%208.68%2010.96%208.74%2010.86%208.78C10.77%208.82%2010.66%208.84%2010.56%208.84Z'%20fill='%23FFFFFF'%20fill-opacity='1.000000'%20fill-rule='nonzero'/%3e%3c/svg%3e",P="data:image/svg+xml,%3csvg%20width='11'%20height='11'%20viewBox='0%200%2011%2011'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.75095%2010.0934L5.58045%208.42735L2.40873%2010.0934L3.01588%206.56221L0.447662%204.062L3.99338%203.54714L5.58045%200.285568L7.16752%203.54714L10.7132%204.062L8.14502%206.56343L8.75095%2010.0934Z'%20fill='%23FFC529'/%3e%3c/svg%3e",B="_product_15v9b_1",S="_imageContainer_15v9b_23",Z="_price_15v9b_33",E="_text_rating_15v9b_75",$="_starImg_15v9b_89",q="_currency_15v9b_101",R="_img_product_15v9b_109",A="_desckription_15v9b_119",D="_cart_img_15v9b_127",H="_rating_15v9b_139",z="_product_description_15v9b_175",a={product:B,imageContainer:S,price:Z,text_rating:E,starImg:$,currency:q,img_product:R,desckription:A,cart_img:D,rating:H,product_description:z};function X(e){const t=v(),c=()=>{t(L.add(e.id))};return s.jsxs("div",{className:a.product,children:[s.jsxs(j,{to:`/products/${e.id}`,children:[s.jsxs("div",{className:a.imageContainer,children:[s.jsxs("span",{className:a.price,children:[e.price,"  ",s.jsx("span",{className:a.currency,children:"₽"})]}),s.jsx("img",{className:a.img_product,src:e.image,alt:""}),s.jsxs("span",{className:a.rating,children:[s.jsxs("span",{className:a.text_rating,children:[e.rating," "]}),s.jsx("img",{className:a.starImg,src:P,alt:"star"})]})]}),s.jsxs("div",{className:a.desckription,children:[s.jsx(o,{className:"product_title",children:e.name}),s.jsx("p",{className:a.product_description,children:e.description})]})]}),s.jsx(w,{onClick:c,apperarence:"cart",children:s.jsx("img",{className:a.cart_img,src:M,alt:"cart"})})]})}function G({products:e}){return s.jsx(s.Fragment,{children:e.map(t=>s.jsx(X,{id:t.id,name:t.name,description:t.ingredients.join(", "),rating:t.rating,image:t.image,price:t.price},t.id))})}function K(){const[e,t]=r.useState([]),[c,l]=r.useState(!1),[n,p]=r.useState(),[C,u]=r.useState();r.useEffect(()=>{h(C)},[C]);const h=async g=>{try{l(!1);const{data:m}=await N.get(`${f}/products`,{params:{name:g}});t(m)}catch(m){p(m.message);return}},x=g=>{u(g.target.value)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:i.menu,children:[s.jsx(o,{className:"menu_headlin",children:"Меню"}),s.jsx(y,{onChange:x,className:"input",placeholder:"Введите блюдо или состав"})]}),n&&s.jsx(s.Fragment,{children:n}),s.jsx("div",{className:i.products,children:!c&&e.length>0&&s.jsx(G,{products:e})}),c&&s.jsxs("div",{className:i.loading_wrapper,children:[s.jsx(o,{children:"Загружаем продукты..."}),s.jsx("div",{className:i.spinner})]}),!c&&e.length===0&&s.jsxs("div",{className:i.loading_wrapper,children:[s.jsx(o,{children:"Товар не найден по запросу"}),s.jsx("div",{className:i.spinner})]})]})}export{K as default};
