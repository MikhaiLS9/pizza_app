import{r as c,j as s,c as g,u as v,L as N,S as w,H as o,B as C,C as f,a as b,b as k,P as I}from"./index-CARUK0tY.js";const y="_input_2qd30_1",S="_img_serch_2qd30_33",F="_input_wrapper_2qd30_45",d={input:y,img_serch:S,input_wrapper:F},L="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.0469%2011.3999L14.4999%2014.4999'%20stroke='%23434B67'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20d='M7%2013C10.3137%2013%2013%2010.3137%2013%207C13%203.68629%2010.3137%201%207%201C3.68629%201%201%203.68629%201%207C1%2010.3137%203.68629%2013%207%2013Z'%20stroke='%23767F9D'%20stroke-width='2'/%3e%3c/svg%3e",E=c.forwardRef(function({isValid:e=!0,className:n,..._},i){return s.jsxs("div",{className:d.input_wrapper,children:[s.jsx("input",{ref:i,className:g(d[n||""],{[d.invalid]:e}),..._}),s.jsx("img",{className:g(d.img_serch),src:L,alt:"Иконка лупы"})]})}),M="_menu_6xv50_1",P="_products_6xv50_31",B="_loading_wrapper_6xv50_61",$="_spinner_6xv50_73",a={menu:M,products:P,loading_wrapper:B,spinner:$,"loading-spinner":"_loading-spinner_6xv50_1"},q="_product_15v9b_1",R="_imageContainer_15v9b_23",A="_price_15v9b_33",D="_text_rating_15v9b_75",H="_starImg_15v9b_89",X="_currency_15v9b_101",Z="_img_product_15v9b_109",z="_desckription_15v9b_119",G="_cart_img_15v9b_127",J="_rating_15v9b_139",K="_product_description_15v9b_175",r={product:q,imageContainer:R,price:A,text_rating:D,starImg:H,currency:X,img_product:Z,desckription:z,cart_img:G,rating:J,product_description:K};function O(t){const e=v(),n=()=>{e(b.add(t.id))};return s.jsxs("div",{className:r.product,children:[s.jsxs(N,{to:`/products/${t.id}`,children:[s.jsxs("div",{className:r.imageContainer,children:[s.jsxs("span",{className:r.price,children:[t.price,"  ",s.jsx("span",{className:r.currency,children:"₽"})]}),s.jsx("img",{className:r.img_product,src:t.image,alt:""}),s.jsxs("span",{className:r.rating,children:[s.jsxs("span",{className:r.text_rating,children:[t.rating," "]}),s.jsx("img",{className:r.starImg,src:w,alt:"star"})]})]}),s.jsxs("div",{className:r.desckription,children:[s.jsx(o,{className:"product_title",children:t.name}),s.jsx("p",{className:r.product_description,children:t.description})]})]}),s.jsx(C,{onClick:n,apperarence:"cart",children:s.jsx("img",{className:r.cart_img,src:f,alt:"cart"})})]})}function Q({products:t}){return s.jsx(s.Fragment,{children:t.map(e=>s.jsx(O,{id:e.id,name:e.name,description:e.ingredients.join(", "),rating:e.rating,image:e.image,price:e.price},e.id))})}function U(){const[t,e]=c.useState([]),[n,_]=c.useState(!1),[i,u]=c.useState(),[p,x]=c.useState();c.useEffect(()=>{h(p)},[p]);const h=async l=>{try{_(!1);const{data:m}=await k.get(`${I}/products`,{params:{name:l}});e(m)}catch(m){u(m.message);return}},j=l=>{x(l.target.value)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:a.menu,children:[s.jsx(o,{className:"menu_headlin",children:"Меню"}),s.jsx(E,{onChange:j,className:"input",placeholder:"Введите блюдо или состав"})]}),i&&s.jsx(s.Fragment,{children:i}),s.jsx("div",{className:a.products,children:!n&&t.length>0&&s.jsx(Q,{products:t})}),n&&s.jsxs("div",{className:a.loading_wrapper,children:[s.jsx(o,{children:"Загружаем продукты..."}),s.jsx("div",{className:a.spinner})]}),!n&&t.length===0&&s.jsxs("div",{className:a.loading_wrapper,children:[s.jsx(o,{children:"Товар не найден по запросу"}),s.jsx("div",{className:a.spinner})]})]})}export{U as default};
