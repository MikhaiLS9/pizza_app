import{r as a,j as s,c as g,u as N,L as v,S as w,H as o,B as C,C as f,a as I,b as y,P as k}from"./index-BQ-S3-S_.js";const S="_input_2qd30_1",F="_img_serch_2qd30_33",L="_input_wrapper_2qd30_45",d={input:S,img_serch:F,input_wrapper:L},E="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.0469%2011.3999L14.4999%2014.4999'%20stroke='%23434B67'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20d='M7%2013C10.3137%2013%2013%2010.3137%2013%207C13%203.68629%2010.3137%201%207%201C3.68629%201%201%203.68629%201%207C1%2010.3137%203.68629%2013%207%2013Z'%20stroke='%23767F9D'%20stroke-width='2'/%3e%3c/svg%3e",M=a.forwardRef(function({isValid:t=!0,className:c,..._},i){return s.jsxs("div",{className:d.input_wrapper,children:[s.jsx("input",{ref:i,className:g(d[c||""],{[d.invalid]:t}),..._}),s.jsx("img",{className:g(d.img_serch),src:E,alt:"Иконка лупы"})]})}),P="_menu_6xv50_1",B="_products_6xv50_31",$="_loading_wrapper_6xv50_61",q="_spinner_6xv50_73",n={menu:P,products:B,loading_wrapper:$,spinner:q,"loading-spinner":"_loading-spinner_6xv50_1"},R="_product_1cm1h_1",A="_imageContainer_1cm1h_23",D="_price_1cm1h_33",H="_text_rating_1cm1h_75",b="_starImg_1cm1h_89",X="_currency_1cm1h_101",Z="_img_product_1cm1h_109",z="_description_1cm1h_119",G="_cart_img_1cm1h_127",J="_rating_1cm1h_139",K="_product_description_1cm1h_175",r={product:R,imageContainer:A,price:D,text_rating:H,starImg:b,currency:X,img_product:Z,description:z,cart_img:G,rating:J,product_description:K};function O(e){const t=N(),c=()=>{t(I.add(e.id))};return s.jsxs("div",{className:r.product,children:[s.jsxs(v,{to:`/products/${e.id}`,children:[s.jsxs("div",{className:r.imageContainer,children:[s.jsxs("span",{className:r.price,children:[e.price,"  ",s.jsx("span",{className:r.currency,children:"₽"})]}),s.jsx("img",{className:r.img_product,src:e.image,alt:""}),s.jsxs("span",{className:r.rating,children:[s.jsxs("span",{className:r.text_rating,children:[e.rating," "]}),s.jsx("img",{className:r.starImg,src:w,alt:"star"})]})]}),s.jsxs("div",{className:r.description,children:[s.jsx(o,{className:"product_title",children:e.name}),s.jsx("p",{className:r.product_description,children:e.description})]})]}),s.jsx(C,{onClick:c,appearance:"cart",children:s.jsx("img",{className:r.cart_img,src:f,alt:"cart"})})]})}function Q({products:e}){return s.jsx(s.Fragment,{children:e.map(t=>s.jsx(O,{id:t.id,name:t.name,description:t.ingredients.join(", "),rating:t.rating,image:t.image,price:t.price},t.id))})}function U(){const[e,t]=a.useState([]),[c,_]=a.useState(!1),[i,u]=a.useState(),[p,h]=a.useState();a.useEffect(()=>{x(p)},[p]);const x=async m=>{try{_(!1);const{data:l}=await y.get(`${k}/products`,{params:{name:m}});t(l)}catch(l){u(l.message);return}},j=m=>{h(m.target.value)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:n.menu,children:[s.jsx(o,{className:"menu_headline",children:"Меню"}),s.jsx(M,{onChange:j,className:"input",placeholder:"Введите блюдо или состав"})]}),i&&s.jsx(s.Fragment,{children:i}),s.jsx("div",{className:n.products,children:!c&&e.length>0&&s.jsx(Q,{products:e})}),c&&s.jsxs("div",{className:n.loading_wrapper,children:[s.jsx(o,{children:"Загружаем продукты..."}),s.jsx("div",{className:n.spinner})]}),!c&&e.length===0&&s.jsxs("div",{className:n.loading_wrapper,children:[s.jsx(o,{children:"Товар не найден по запросу"}),s.jsx("div",{className:n.spinner})]})]})}export{U as default};
